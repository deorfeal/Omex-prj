function initializeGame({mapWidth:t=14,mapHeight:e=10,cellWidth:i=25,cellHeight:o=35,robotInitialPosition:n={x:13,y:9},coins:a=[{x:2,y:0}],guns:l=[{x:5,y:5}],wallSetNumber:r=0,timerDuration:c=60,robotInitialWidth:u=20,robotInitialHeight:s=35}){const d=[{horizontal:[[!1,!1,!0,!1,!0,!1,!0,!1,!0,!0,!1],[!1,!1,!1,!0,!0,!0,!1,!0,!1,!0,!1],[!1,!0,!0,!1,!0,!1,!0,!1,!1,!1,!1],[!1,!1,!0,!0,!1,!0,!1,!0,!0,!1,!0],[!1,!0,!0,!1,!1,!0,!0,!1,!1,!0,!1],[!0,!1,!1,!1,!1,!1,!1,!0,!0,!1,!1],[!1,!0,!1,!0,!0,!0,!1,!1,!0,!0,!1]],vertical:[[!1,!0,!0,!0,!0,!1,!1,!1],[!1,!0,!1,!1,!1,!0,!0,!1],[!0,!1,!0,!1,!1,!0,!0,!1],[!1,!1,!1,!0,!0,!0,!1,!1],[!1,!0,!1,!0,!1,!0,!0,!1],[!0,!1,!0,!0,!1,!1,!0,!1],[!1,!0,!1,!1,!0,!1,!0,!0],[!1,!1,!0,!0,!1,!0,!1,!1],[!1,!1,!0,!0,!0,!1,!1,!1],[!1,!0,!1,!0,!1,!0,!0,!1]]},{horizontal:[[!1,!0,!1,!1,!1,!1,!0,!0,!1,!1],[!0,!1,!1,!1,!1,!1,!1,!1,!0,!1],[!1,!1,!0,!0,!0,!1,!1,!1,!1,!1],[!1,!0,!1,!0,!1,!0,!1,!1,!0,!0],[!1,!1,!1,!1,!0,!0,!0,!1,!1,!1],[!1,!1,!0,!1,!1,!0,!1,!0,!0,!0]],vertical:[[!1,!1,!1,!0,!1,!0,!0],[!1,!0,!0,!0,!0,!0,!1],[!0,!0,!1,!1,!0,!1,!1],[!1,!0,!0,!1,!0,!0,!1],[!0,!0,!0,!0,!1,!1,!0],[!1,!0,!0,!1,!1,!1,!1],[!1,!0,!0,!0,!0,!0,!1],[!1,!1,!0,!0,!0,!1,!1],[!1,!0,!0,!1,!1,!0,!1]]},{horizontal:[[!1,!0,!0,!1,!1,!1,!1,!0,!1,!1,!0],[!1,!1,!1,!1,!1,!1,!0,!0,!0,!0,!1],[!0,!1,!1,!1,!0,!0,!1,!1,!1,!1,!1],[!1,!0,!0,!0,!1,!0,!0,!1,!1,!0,!0],[!1,!0,!0,!1,!1,!1,!0,!0,!0,!0,!0],[!0,!1,!1,!1,!1,!0,!0,!0,!1,!0,!1],[!1,!0,!1,!1,!1,!1,!0,!1,!0,!0,!1]],vertical:[[!1,!0,!0,!1,!1,!1,!1,!1],[!1,!1,!0,!0,!1,!0,!0,!1],[!1,!0,!0,!1,!1,!0,!0,!0],[!1,!0,!0,!0,!0,!0,!0,!1],[!0,!0,!0,!1,!0,!0,!0,!1],[!1,!0,!1,!1,!1,!1,!1,!0],[!1,!1,!0,!0,!1,!1,!1,!1],[!0,!1,!1,!0,!0,!1,!0,!1],[!1,!0,!0,!0,!1,!1,!1,!1],[!1,!1,!0,!1,!1,!1,!0,!1]]},{horizontal:[[!0,!1,!1,!0,!1,!1,!1,!1,!0,!1,!1,!1],[!1,!0,!1,!0,!0,!1,!1,!1,!1,!1,!0,!1],[!1,!1,!1,!1,!0,!0,!1,!0,!0,!1,!1,!1],[!1,!0,!0,!1,!0,!1,!0,!0,!0,!1,!1,!1],[!1,!0,!0,!0,!1,!0,!0,!0,!0,!0,!1,!0],[!0,!0,!1,!0,!0,!1,!0,!0,!1,!1,!0,!1],[!1,!1,!0,!0,!1,!1,!1,!1,!1,!0,!1,!0],[!1,!0,!0,!1,!0,!0,!0,!0,!0,!1,!1,!1]],vertical:[[!1,!1,!0,!0,!1,!1,!1,!0,!1],[!1,!0,!0,!1,!1,!1,!0,!1,!1],[!0,!1,!0,!0,!1,!0,!1,!0,!1],[!1,!1,!1,!0,!0,!1,!1,!1,!1],[!0,!0,!1,!1,!1,!1,!0,!0,!1],[!1,!0,!0,!0,!1,!1,!0,!1,!1],[!0,!0,!0,!1,!1,!1,!1,!0,!1],[!1,!0,!1,!1,!1,!1,!0,!0,!1],[!1,!0,!0,!0,!1,!0,!0,!1,!1],[!1,!0,!0,!0,!0,!0,!1,!0,!0],[!0,!1,!0,!0,!1,!1,!1,!0,!1]]},{horizontal:[[!1,!0,!1,!0,!0,!1,!1,!1,!0,!1,!0,!1],[!0,!0,!0,!0,!0,!1,!0,!1,!1,!0,!1,!1],[!1,!0,!0,!0,!1,!1,!0,!0,!1,!1,!1,!1],[!0,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!0],[!1,!0,!0,!0,!0,!1,!1,!0,!0,!0,!1,!1],[!1,!0,!0,!0,!1,!0,!1,!1,!0,!1,!0,!1],[!1,!0,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!0,!1,!1,!0,!1,!0,!1,!0,!0,!1]],vertical:[[!1,!1,!1,!1,!1,!1,!0,!0,!1],[!0,!1,!1,!0,!0,!1,!1,!1,!0],[!1,!1,!1,!1,!0,!1,!1,!0,!1],[!1,!1,!1,!0,!1,!1,!0,!0,!0],[!1,!0,!0,!1,!1,!0,!1,!1,!1],[!1,!0,!0,!0,!0,!0,!0,!0,!1],[!0,!1,!1,!1,!0,!0,!0,!0,!1],[!1,!0,!0,!0,!1,!1,!1,!0,!1],[!0,!1,!0,!0,!0,!1,!0,!0,!0],[!1,!0,!1,!0,!0,!0,!0,!1,!1],[!0,!1,!0,!0,!1,!0,!1,!0,!1]]},{horizontal:[[!1,!0,!0,!1,!1,!1,!0,!0,!0,!1,!0,!1,!1,!1],[!1,!1,!1,!0,!0,!0,!0,!0,!0,!1,!1,!0,!0,!0],[!1,!0,!0,!0,!0,!0,!0,!0,!1,!0,!1,!0,!0,!1],[!1,!1,!0,!1,!0,!1,!1,!0,!0,!1,!1,!1,!1,!0],[!1,!0,!1,!1,!1,!1,!0,!0,!1,!1,!0,!1,!0,!1],[!1,!1,!0,!1,!1,!1,!0,!0,!0,!0,!0,!1,!1,!0],[!0,!1,!1,!1,!0,!0,!1,!0,!0,!0,!1,!1,!1,!1],[!1,!0,!0,!0,!1,!0,!0,!1,!0,!0,!1,!1,!0,!1],[!1,!1,!0,!1,!1,!1,!1,!0,!1,!1,!0,!0,!1,!0]],vertical:[[!1,!0,!0,!1,!0,!0,!0,!1,!0,!1],[!1,!0,!1,!0,!1,!1,!0,!0,!1,!1],[!1,!1,!1,!1,!0,!0,!0,!1,!1,!0],[!0,!0,!1,!1,!1,!0,!0,!0,!0,!1],[!0,!1,!1,!0,!0,!0,!1,!1,!0,!1],[!1,!1,!1,!1,!0,!1,!0,!1,!1,!0],[!1,!1,!1,!1,!1,!1,!1,!0,!0,!1],[!1,!1,!1,!0,!1,!0,!1,!1,!1,!1],[!1,!0,!0,!1,!0,!1,!1,!1,!0,!0],[!1,!1,!0,!0,!0,!1,!1,!0,!1,!1],[!1,!0,!0,!1,!0,!1,!0,!0,!0,!1],[!0,!1,!1,!0,!0,!0,!0,!0,!0,!1],[!1,!0,!1,!1,!1,!1,!0,!1,!1,!1]]},{horizontal:[[!1,!0,!1,!0,!0,!0,!0,!0,!0,!1,!1,!0,!0,!1],[!1,!1,!0,!1,!0,!1,!1,!0,!0,!0,!0,!1,!1,!0],[!1,!0,!1,!0,!1,!0,!0,!1,!1,!1,!1,!0,!0,!1],[!0,!1,!1,!0,!0,!0,!0,!0,!1,!0,!0,!0,!1,!0],[!0,!0,!0,!0,!1,!0,!0,!1,!0,!0,!0,!1,!0,!1],[!1,!0,!0,!1,!0,!1,!1,!0,!1,!0,!0,!0,!0,!1],[!1,!0,!0,!1,!1,!0,!0,!1,!1,!1,!1,!0,!0,!1],[!1,!0,!1,!0,!0,!1,!0,!1,!1,!0,!0,!1,!1,!1],[!0,!1,!0,!0,!1,!1,!1,!0,!0,!1,!0,!1,!0,!0]],vertical:[[!1,!0,!0,!1,!1,!1,!0,!1,!1,!1],[!1,!1,!1,!0,!0,!1,!1,!1,!0,!1],[!1,!0,!0,!0,!1,!1,!1,!0,!1,!1],[!1,!1,!1,!1,!1,!1,!0,!0,!1,!0],[!1,!1,!0,!1,!0,!0,!1,!1,!0,!1],[!1,!0,!1,!1,!1,!1,!0,!1,!0,!0],[!1,!1,!0,!1,!1,!0,!1,!0,!1,!1],[!1,!1,!1,!0,!0,!1,!0,!0,!0,!1],[!1,!1,!0,!0,!1,!1,!0,!1,!0,!1],[!0,!0,!0,!1,!1,!1,!1,!0,!1,!0],[!1,!1,!1,!1,!1,!0,!1,!1,!0,!1],[!1,!0,!0,!0,!0,!1,!1,!1,!0,!1],[!1,!1,!1,!1,!1,!1,!0,!0,!1,!1]]},{horizontal:[[!0,!1,!1,!1,!1,!1,!1,!0,!1,!0,!0,!0,!1,!0,!1],[!1,!0,!0,!1,!1,!1,!0,!1,!0,!0,!0,!1,!1,!1,!0],[!0,!1,!0,!0,!1,!1,!1,!1,!1,!1,!0,!0,!0,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!1,!0,!1],[!1,!0,!1,!0,!0,!0,!0,!0,!1,!1,!1,!0,!0,!1,!1],[!0,!1,!0,!0,!0,!1,!1,!0,!0,!0,!0,!1,!1,!1,!1],[!1,!1,!1,!0,!0,!0,!1,!0,!0,!0,!0,!0,!1,!1,!1],[!1,!0,!0,!1,!1,!1,!0,!1,!1,!1,!1,!0,!0,!1,!1],[!1,!0,!0,!0,!0,!1,!0,!0,!1,!0,!0,!1,!0,!0,!1],[!1,!1,!0,!0,!1,!0,!1,!1,!0,!0,!1,!0,!0,!0,!1],[!0,!0,!1,!0,!0,!1,!1,!0,!1,!1,!0,!1,!1,!1,!0],[!1,!1,!0,!1,!1,!1,!1,!1,!0,!1,!1,!0,!1,!1,!1],[!1,!0,!0,!0,!0,!0,!0,!1,!1,!0,!0,!1,!1,!0,!1],[!0,!1,!1,!0,!0,!0,!1,!1,!1,!1,!0,!0,!0,!1,!1]],vertical:[[!1,!1,!1,!1,!0,!1,!1,!0,!1,!0,!1,!0,!1,!1,!1],[!1,!0,!0,!0,!0,!0,!0,!0,!1,!1,!0,!1,!0,!0,!1],[!0,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!0,!1,!1,!0],[!0,!0,!0,!0,!1,!1,!1,!0,!0,!1,!1,!0,!1,!1,!1],[!1,!0,!0,!0,!0,!1,!1,!1,!0,!0,!0,!1,!0,!1,!1],[!0,!0,!0,!0,!1,!0,!0,!0,!1,!1,!0,!0,!1,!1,!1],[!1,!1,!0,!0,!0,!1,!1,!1,!1,!0,!1,!0,!0,!0,!1],[!1,!0,!1,!0,!0,!1,!1,!0,!0,!0,!0,!1,!0,!0,!0],[!0,!1,!0,!0,!0,!0,!1,!1,!0,!1,!1,!0,!0,!0,!1],[!1,!1,!1,!1,!0,!1,!1,!0,!1,!1,!0,!0,!1,!1,!1],[!1,!1,!1,!1,!1,!0,!1,!1,!0,!0,!1,!1,!0,!1,!1],[!1,!0,!0,!1,!1,!1,!0,!1,!1,!1,!0,!0,!0,!1,!1],[!1,!0,!0,!0,!1,!0,!0,!0,!1,!1,!0,!0,!1,!0,!1],[!1,!1,!1,!0,!0,!0,!0,!0,!0,!1,!1,!0,!0,!1,!0]]}][r],h=u,p=s;let m=n,y=l,g=a;function v(){const t=document.querySelector(".robot"),e=m.x*i+(i-h)/2,n=m.y*o+(o-p)/2;t.style.left=e+"px",t.style.top=n+"px"}function b(i){const{x:o,y:n}=m;switch(i){case"up":n>0&&!d.horizontal[n-1][o]&&m.y--;break;case"down":n<e-1&&!d.horizontal[n][o]&&m.y++;break;case"left":o>0&&!d.vertical[o-1][n]&&m.x--;break;case"right":o<t-1&&!d.vertical[o][n]&&m.x++}v()}document.querySelector(".robot").style.width=h+"px",document.querySelector(".robot").style.height=p+"px",v(),y.forEach((t,e)=>{const n=document.querySelector(`.gun[data-index="${e}"]`),a=t.x*i+(i-45)/2,l=t.y*o+(o-45)/2;n.style.left=a+"px",n.style.top=l+"px"}),g.forEach((t,e)=>{const n=document.querySelector(`.coin[data-index="${e}"]`),a=t.x*i+(i-20)/2,l=t.y*o+(o-20)/2;n.style.left=a+"px",n.style.top=l+"px"}),document.querySelector(".controls").addEventListener("click",t=>{const{clientX:e,clientY:i,target:o}=t;if("svg"===o.tagName){const{left:t,top:n,width:a,height:l}=o.getBoundingClientRect(),r=t+a/2,c=n+l/2;i<c&&Math.abs(e-r)<a/4?b("up"):i>c&&Math.abs(e-r)<a/4?b("down"):e<r?b("left"):e>r&&b("right")}});const f=document.querySelector(".controls"),x=document.querySelector(".joystick");let I,S,$,H,W=!1,w=!1,q=null,k=!0,z=null;function D(t){const e=f.getBoundingClientRect(),i=t.clientX-e.left,o=t.clientY-e.top,n=i-e.width/2,a=o-e.height/2;Math.abs(n)>Math.abs(a)?b(n>0?"right":"left"):b(a>0?"down":"up")}function _(t){t.preventDefault(),W=!0,k=!0,z=null,"mousedown"===t.type?(I=t.clientX,S=t.clientY):"touchstart"===t.type&&(I=t.touches[0].clientX,S=t.touches[0].clientY),$=Date.now(),w=!1,setTimeout(()=>{W&&Date.now()-$>=150&&(w=!0)},150),k&&(b(z),k=!1),q=setInterval(()=>{W&&z&&b(z)},350)}function C(t){if(!W)return;let e,i;"mousemove"===t.type?(e=t.clientX,i=t.clientY):"touchmove"===t.type&&(e=t.touches[0].clientX,i=t.touches[0].clientY);const o=e-I,n=i-S,a=Math.min(50,Math.sqrt(o*o+n*n)),l=Math.atan2(n,o),r=a*Math.cos(l),c=a*Math.sin(l);x.style.transform=`translate(${r-50}px, ${c-50}px)`,z=Math.abs(r)>Math.abs(c)?r>0?"right":"left":c>0?"down":"up",t.preventDefault()}function P(t){W=!1,clearInterval(q),x.style.transform="translate(-50%, -50%)",w||"touchend"!==t.type||D(t.changedTouches[0])}f.addEventListener("click",D),x.addEventListener("mousedown",_),document.addEventListener("mousemove",C),document.addEventListener("mouseup",P),x.addEventListener("touchstart",_,{passive:!1}),document.addEventListener("touchmove",C,{passive:!1}),document.addEventListener("touchend",P,{passive:!1});let M=document.querySelector(".game-footer__timer"),E=c;function L(){let t=Math.floor(E/60),e=E%60;t=t<10?"0"+t:t,e=e<10?"0"+e:e,M.textContent=`${t}:${e}`,E--,E<0&&clearInterval(H)}H&&clearInterval(H),L(),H=setInterval(L,1e3);const N=document.querySelector(".gun");setInterval((function(){N.classList.add("gun--active"),setTimeout(()=>{N.classList.remove("gun--active")},3e3)}),3500)}if(document.querySelector(".map--first")?initializeGame({mapWidth:11,mapHeight:8,cellWidth:32,cellHeight:43.9,robotInitialWidth:22.5,robotInitialHeight:32.5,robotInitialPosition:{x:10,y:7},coins:[{x:2,y:0}],guns:[{x:5,y:5}],wallSetNumber:0,timerDuration:60}):document.querySelector(".map--second")?initializeGame({mapWidth:10,mapHeight:7,cellWidth:35.2,cellHeight:50.5,robotInitialWidth:25,robotInitialHeight:40,robotInitialPosition:{x:9,y:6},coins:[{x:2,y:0}],guns:[{x:5,y:5}],wallSetNumber:1,timerDuration:60}):document.querySelector(".map--third")?initializeGame({mapWidth:11,mapHeight:8,cellWidth:32,cellHeight:44,robotInitialWidth:22.5,robotInitialHeight:37.5,robotInitialPosition:{x:10,y:7},coins:[{x:2,y:0}],guns:[{x:5,y:5}],wallSetNumber:2,timerDuration:60}):document.querySelector(".map--fourth")?initializeGame({mapWidth:12,mapHeight:9,cellWidth:29.3,cellHeight:39.2,robotInitialWidth:17.5,robotInitialHeight:32.5,robotInitialPosition:{x:11,y:8},coins:[{x:2,y:0}],guns:[{x:5,y:5}],wallSetNumber:3,timerDuration:60}):document.querySelector(".map--fifth")?initializeGame({mapWidth:12,mapHeight:9,cellWidth:29.2,cellHeight:39.2,robotInitialWidth:17.5,robotInitialHeight:32.5,robotInitialPosition:{x:11,y:8},coins:[{x:2,y:0}],guns:[{x:5,y:5}],wallSetNumber:4,timerDuration:60}):document.querySelector(".map--sixth")?initializeGame({mapWidth:14,mapHeight:10,cellWidth:25.1,cellHeight:35.2,robotInitialWidth:15.5,robotInitialHeight:30.5,robotInitialPosition:{x:13,y:9},coins:[{x:2,y:0}],guns:[{x:5,y:5}],wallSetNumber:5,timerDuration:60}):document.querySelector(".map--seventh")?initializeGame({mapWidth:14,mapHeight:10,cellWidth:25.2,cellHeight:35.2,robotInitialWidth:15.5,robotInitialHeight:30.5,robotInitialPosition:{x:13,y:9},coins:[{x:2,y:0}],guns:[{x:5,y:5}],wallSetNumber:6,timerDuration:60}):document.querySelector(".map--eight")&&initializeGame({mapWidth:15,mapHeight:15,cellWidth:23.4,cellHeight:23.5,robotInitialWidth:10,robotInitialHeight:25,robotInitialPosition:{x:14,y:14},coins:[{x:2,y:0}],guns:[{x:5,y:5}],wallSetNumber:7,timerDuration:60}),document.querySelector(".exchange__btn")){let t;document.querySelector(".exchange__btn").addEventListener("click",(function(){let e=document.querySelector(".area__timer"),i=60;function o(){let o=Math.floor(i/60),n=i%60;o=o<10?"0"+o:o,n=n<10?"0"+n:n,e.textContent=`${o}:${n}`,i--,i<0&&clearInterval(t)}t&&clearInterval(t),o(),t=setInterval(o,1e3)}))}$((function(){$(".game__play").on("click",(function(t){let e;$(".game").addClass("game--ready");let i=document.querySelector(".countdown"),o=5;function n(){let t=o%60;i.textContent=""+t,o--,o<0&&clearInterval(e)}e&&clearInterval(e),n(),e=setInterval(n,1e3)})),$(document).ready((function(){var t=$(".popup"),e={conversion:$(".popup--conversion"),task:$(".popup--task"),invite:$(".popup--invite"),wallet:$(".popup--wallet")};function i(t){t.addClass("popup--active").fadeIn(250,(function(){$(this).animate({opacity:1},250)})),$("body").addClass("body--popup")}function o(t){t.removeClass("popup--active").fadeOut(250,(function(){$(this).animate({opacity:1},250)})),$("body").removeClass("body--popup")}$(".exchange__btn").click((function(t){t.stopPropagation(),t.preventDefault(),i(e.conversion)})),$(".commission-item").click((function(t){t.stopPropagation(),t.preventDefault(),i(e.task)})),$(".friends__btn").click((function(t){t.stopPropagation(),t.preventDefault(),i(e.invite)})),$(".header-links__link--wallet").click((function(t){t.stopPropagation(),t.preventDefault(),i(e.wallet)})),$(".cls").click((function(e){e.stopPropagation(),e.preventDefault(),o(t)})),$(document).click((function(t){$.each(e,(function(e,i){if(i.hasClass("popup--active")){var n=i.find(".popup__inner");n.is(t.target)||0!==n.has(t.target).length||o(i)}}))}))})),document.querySelector(".body--preloader")&&$(".body--preloader").addClass("preloader--start"),setTimeout(()=>{document.querySelector(".body--preloader")&&($(".body--preloader").removeClass("body--preloader"),$(".preloader--start").removeClass("preloader--start"),$("body").addClass("preloader--end"))},3e3)}));