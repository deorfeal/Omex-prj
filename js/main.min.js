function initializeGame({mapWidth:t=14,mapHeight:e=10,cellWidth:n=25,cellHeight:o=35,robotInitialPosition:i={x:13,y:9},coins:a=[{x:2,y:0}],guns:l=[{x:5,y:5}],wallSetNumber:c=0,timerDuration:r=60}){const s=[{horizontal:[[!1,!0,!1,!0,!0,!0,!0,!0,!0,!1,!1,!0,!0,!1],[!1,!1,!0,!1,!0,!1,!1,!0,!0,!0,!0,!1,!1,!0],[!1,!0,!1,!0,!1,!0,!0,!1,!1,!1,!1,!0,!0,!1],[!0,!1,!1,!0,!0,!0,!0,!0,!1,!0,!0,!0,!1,!0],[!0,!0,!0,!0,!1,!0,!0,!1,!0,!0,!0,!1,!0,!1],[!1,!0,!0,!1,!0,!1,!1,!0,!1,!0,!0,!0,!0,!1],[!1,!0,!0,!1,!1,!0,!0,!1,!1,!1,!1,!0,!0,!1],[!1,!0,!1,!0,!0,!1,!0,!1,!1,!0,!0,!1,!1,!1],[!0,!1,!0,!0,!1,!1,!1,!0,!0,!1,!0,!1,!0,!0]],vertical:[[!1,!0,!0,!1,!1,!1,!0,!1,!1,!1],[!1,!1,!1,!0,!0,!1,!1,!1,!0,!1],[!1,!0,!0,!0,!1,!1,!1,!0,!1,!1],[!1,!1,!1,!1,!1,!1,!0,!0,!1,!0],[!1,!1,!0,!1,!0,!0,!1,!1,!0,!1],[!1,!0,!1,!1,!1,!1,!0,!1,!0,!0],[!1,!1,!0,!1,!1,!0,!1,!0,!1,!1],[!1,!1,!1,!0,!0,!1,!0,!0,!0,!1],[!1,!1,!0,!0,!1,!1,!0,!1,!0,!1],[!0,!0,!0,!1,!1,!1,!1,!0,!1,!0],[!1,!1,!1,!1,!1,!0,!1,!1,!0,!1],[!1,!0,!0,!0,!0,!1,!1,!1,!0,!1],[!1,!1,!1,!1,!1,!1,!0,!0,!1,!1]]},{horizontal:[[!1,!0,!0,!1,!1,!1,!0,!0,!0,!1,!0,!1,!1,!1],[!1,!1,!1,!0,!0,!0,!0,!0,!0,!1,!1,!0,!0,!0],[!1,!0,!0,!0,!0,!0,!0,!0,!1,!0,!1,!0,!0,!1],[!1,!1,!0,!1,!0,!1,!1,!0,!0,!1,!1,!1,!1,!0],[!1,!0,!1,!1,!1,!1,!0,!0,!1,!1,!0,!1,!0,!1],[!1,!1,!0,!1,!1,!1,!0,!0,!0,!0,!0,!1,!1,!0],[!0,!1,!1,!1,!0,!0,!1,!0,!0,!0,!1,!1,!1,!1],[!1,!0,!0,!0,!1,!0,!0,!1,!0,!0,!1,!1,!0,!1],[!1,!1,!0,!1,!1,!1,!1,!0,!1,!1,!0,!0,!1,!0]],vertical:[[!1,!0,!0,!1,!0,!0,!0,!1,!0,!1],[!1,!0,!1,!0,!1,!1,!0,!0,!1,!1],[!1,!1,!1,!1,!0,!0,!0,!1,!1,!0],[!0,!0,!1,!1,!1,!0,!0,!0,!0,!1],[!0,!1,!1,!0,!0,!0,!1,!1,!0,!1],[!1,!1,!1,!1,!0,!1,!0,!1,!1,!0],[!1,!1,!1,!1,!1,!1,!1,!0,!0,!1],[!1,!1,!1,!0,!1,!0,!1,!1,!1,!1],[!1,!0,!0,!1,!0,!1,!1,!1,!0,!0],[!1,!1,!0,!0,!0,!1,!1,!0,!1,!1],[!1,!0,!0,!1,!0,!1,!0,!0,!0,!1],[!0,!1,!1,!0,!0,!0,!0,!0,!0,!1],[!1,!0,!1,!1,!1,!1,!0,!1,!1,!1]]},{horizontal:[[!1,!0,!1,!0,!0,!1,!1,!1,!0,!1,!0,!1],[!0,!0,!0,!0,!0,!1,!0,!1,!1,!0,!1,!1],[!1,!0,!0,!0,!1,!1,!0,!0,!1,!1,!1,!1],[!0,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!0],[!1,!0,!0,!0,!0,!1,!1,!0,!0,!0,!1,!1],[!1,!0,!0,!0,!1,!0,!1,!1,!0,!1,!0,!1],[!1,!0,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!0,!1,!1,!0,!1,!0,!1,!0,!0,!1]],vertical:[[!1,!1,!1,!1,!1,!1,!0,!0,!1],[!0,!1,!1,!0,!0,!1,!1,!1,!0],[!1,!1,!1,!1,!0,!1,!1,!0,!1],[!1,!1,!1,!0,!1,!1,!0,!0,!0],[!1,!0,!0,!1,!1,!0,!1,!1,!1],[!1,!0,!0,!0,!0,!0,!0,!0,!1],[!0,!1,!1,!1,!0,!0,!0,!0,!1],[!1,!0,!0,!0,!1,!1,!1,!0,!1],[!0,!1,!0,!0,!0,!1,!0,!0,!0],[!1,!0,!1,!0,!0,!0,!0,!1,!1],[!0,!1,!0,!0,!1,!0,!1,!0,!1]]},{horizontal:[[!0,!1,!1,!0,!1,!1,!1,!1,!0,!1,!1,!1],[!1,!0,!1,!0,!0,!1,!1,!1,!1,!1,!0,!1],[!1,!1,!1,!1,!0,!0,!1,!0,!0,!1,!1,!1],[!1,!0,!0,!1,!0,!1,!0,!0,!0,!1,!1,!1],[!1,!0,!0,!0,!1,!0,!0,!0,!0,!0,!1,!0],[!0,!0,!1,!0,!0,!1,!0,!0,!1,!1,!0,!1],[!1,!1,!0,!0,!1,!1,!1,!1,!1,!0,!1,!0],[!1,!0,!0,!1,!0,!0,!0,!0,!0,!1,!1,!1]],vertical:[[!1,!1,!0,!0,!1,!1,!1,!0,!1],[!1,!0,!0,!1,!1,!1,!0,!1,!1],[!0,!1,!0,!0,!1,!0,!1,!0,!1],[!1,!1,!1,!0,!0,!1,!1,!1,!1],[!0,!0,!1,!1,!1,!1,!0,!0,!1],[!1,!0,!0,!0,!1,!1,!0,!1,!1],[!0,!0,!0,!1,!1,!1,!1,!0,!1],[!1,!0,!1,!1,!1,!1,!0,!0,!1],[!1,!0,!0,!0,!1,!0,!0,!1,!1],[!1,!0,!0,!0,!0,!0,!1,!0,!0],[!0,!1,!0,!0,!1,!1,!1,!0,!1]]},{horizontal:[[!1,!0,!0,!1,!1,!1,!1,!0,!1,!1,!0],[!1,!1,!1,!1,!1,!1,!0,!0,!0,!0,!1],[!0,!1,!1,!1,!0,!0,!1,!1,!1,!1,!1],[!1,!0,!0,!0,!1,!0,!0,!1,!1,!0,!0],[!1,!0,!0,!1,!1,!1,!0,!0,!0,!0,!0],[!0,!1,!1,!1,!1,!0,!0,!0,!1,!0,!1],[!1,!0,!1,!1,!1,!1,!0,!1,!0,!0,!1]],vertical:[[!1,!0,!0,!1,!1,!1,!1,!1],[!1,!1,!0,!0,!1,!0,!0,!1],[!1,!0,!0,!1,!1,!0,!0,!0],[!1,!0,!0,!0,!0,!0,!0,!1],[!0,!0,!0,!1,!0,!0,!0,!1],[!1,!0,!1,!1,!1,!1,!1,!0],[!1,!1,!0,!0,!1,!1,!1,!1],[!0,!1,!1,!0,!0,!1,!0,!1],[!1,!0,!0,!0,!1,!1,!1,!1],[!1,!1,!0,!1,!1,!1,!0,!1]]},{horizontal:[[!1,!0,!1,!1,!1,!1,!0,!0,!1,!1],[!0,!1,!1,!1,!1,!1,!1,!1,!0,!1],[!1,!1,!0,!0,!0,!1,!1,!1,!1,!1],[!1,!0,!1,!0,!1,!0,!1,!1,!0,!0],[!1,!1,!1,!1,!0,!0,!0,!1,!1,!1],[!1,!1,!0,!1,!1,!0,!1,!0,!0,!0]],vertical:[[!1,!1,!1,!0,!1,!0,!0],[!1,!0,!0,!0,!0,!0,!1],[!0,!0,!1,!1,!0,!1,!1],[!1,!0,!0,!1,!0,!0,!1],[!0,!0,!0,!0,!1,!1,!0],[!1,!0,!0,!1,!1,!1,!1],[!1,!0,!0,!0,!0,!0,!1],[!1,!1,!0,!0,!0,!1,!1],[!1,!0,!0,!1,!1,!0,!1]]},{horizontal:[[!1,!1,!0,!1,!0,!1,!0,!1,!0,!0,!1],[!1,!1,!1,!0,!0,!0,!1,!0,!1,!0,!1],[!1,!0,!0,!1,!0,!1,!0,!1,!1,!1,!1],[!1,!1,!0,!0,!1,!0,!1,!0,!0,!1,!0],[!1,!0,!0,!1,!1,!0,!0,!1,!1,!0,!1],[!0,!1,!1,!1,!1,!1,!1,!0,!0,!1,!1],[!1,!0,!1,!0,!0,!0,!1,!1,!0,!0,!1]],vertical:[[!1,!0,!0,!0,!0,!1,!1,!1],[!1,!0,!1,!1,!1,!0,!0,!1],[!0,!1,!0,!1,!1,!0,!0,!1],[!1,!1,!1,!0,!0,!0,!1,!1],[!1,!0,!1,!0,!1,!0,!0,!1],[!0,!1,!0,!0,!1,!1,!0,!1],[!1,!0,!1,!1,!0,!1,!0,!0],[!1,!1,!0,!0,!1,!0,!1,!1],[!1,!1,!0,!0,!0,!1,!1,!1],[!1,!0,!1,!0,!1,!0,!0,!1]]}][c];let u=i,d=l,p=a;function m(){const t=document.querySelector(".robot"),e=u.x*n+(n-25)/2,i=u.y*o+(o-40)/2;t.style.left=e+"px",t.style.top=i+"px"}function h(n){const{x:o,y:i}=u;switch(n){case"up":i>0&&!s.horizontal[i-1][o]&&u.y--;break;case"down":i<e-1&&!s.horizontal[i][o]&&u.y++;break;case"left":o>0&&!s.vertical[o-1][i]&&u.x--;break;case"right":o<t-1&&!s.vertical[o][i]&&u.x++}m()}m(),d.forEach((t,e)=>{const i=document.querySelector(`.gun[data-index="${e}"]`),a=t.x*n+(n-45)/2,l=t.y*o+(o-45)/2;i.style.left=a+"px",i.style.top=l+"px"}),p.forEach((t,e)=>{const i=document.querySelector(`.coin[data-index="${e}"]`),a=t.x*n+(n-20)/2,l=t.y*o+(o-20)/2;i.style.left=a+"px",i.style.top=l+"px"}),document.querySelector(".controls").addEventListener("click",t=>{const{clientX:e,clientY:n,target:o}=t;if("svg"===o.tagName){const{left:t,top:i,width:a,height:l}=o.getBoundingClientRect(),c=t+a/2,r=i+l/2;n<r&&Math.abs(e-c)<a/4?h("up"):n>r&&Math.abs(e-c)<a/4?h("down"):e<c?h("left"):e>c&&h("right")}});const y=document.querySelector(".controls"),v=document.querySelector(".joystick");let f,g,x,b,$=!1,S=!1,w=null,q=!0,I=null;function k(t){const e=y.getBoundingClientRect(),n=t.clientX-e.left,o=t.clientY-e.top,i=n-e.width/2,a=o-e.height/2;Math.abs(i)>Math.abs(a)?h(i>0?"right":"left"):h(a>0?"down":"up")}function _(t){t.preventDefault(),$=!0,q=!0,I=null,"mousedown"===t.type?(f=t.clientX,g=t.clientY):"touchstart"===t.type&&(f=t.touches[0].clientX,g=t.touches[0].clientY),x=Date.now(),S=!1,setTimeout(()=>{$&&Date.now()-x>=150&&(S=!0)},150),q&&(h(I),q=!1),w=setInterval(()=>{$&&I&&h(I)},350)}function z(t){if(!$)return;let e,n;"mousemove"===t.type?(e=t.clientX,n=t.clientY):"touchmove"===t.type&&(e=t.touches[0].clientX,n=t.touches[0].clientY);const o=e-f,i=n-g,a=Math.min(50,Math.sqrt(o*o+i*i)),l=Math.atan2(i,o),c=a*Math.cos(l),r=a*Math.sin(l);v.style.transform=`translate(${c-50}px, ${r-50}px)`,I=Math.abs(c)>Math.abs(r)?c>0?"right":"left":r>0?"down":"up",t.preventDefault()}function D(t){$=!1,clearInterval(w),v.style.transform="translate(-50%, -50%)",S||"touchend"!==t.type||k(t.changedTouches[0])}y.addEventListener("click",k),v.addEventListener("mousedown",_),document.addEventListener("mousemove",z),document.addEventListener("mouseup",D),v.addEventListener("touchstart",_,{passive:!1}),document.addEventListener("touchmove",z,{passive:!1}),document.addEventListener("touchend",D,{passive:!1});let H=document.querySelector(".game-footer__timer"),W=r;function C(){let t=Math.floor(W/60),e=W%60;t=t<10?"0"+t:t,e=e<10?"0"+e:e,H.textContent=`${t}:${e}`,W--,W<0&&clearInterval(b)}b&&clearInterval(b),C(),b=setInterval(C,1e3);const M=document.querySelector(".gun");setInterval((function(){M.classList.add("gun--active"),setTimeout(()=>{M.classList.remove("gun--active")},3e3)}),3500)}if(document.querySelector(".map--first")?initializeGame({mapWidth:14,mapHeight:10,cellWidth:25,cellHeight:35,robotInitialPosition:{x:13,y:9},coins:[{x:2,y:0}],guns:[{x:5,y:5}],wallSetNumber:0,timerDuration:60}):document.querySelector(".map--second")?initializeGame({mapWidth:14,mapHeight:10,cellWidth:25,cellHeight:35,robotInitialPosition:{x:13,y:9},coins:[{x:2,y:0}],guns:[{x:5,y:5}],wallSetNumber:1,timerDuration:60}):document.querySelector(".map--third")?initializeGame({mapWidth:12,mapHeight:9,cellWidth:29,cellHeight:39,robotInitialPosition:{x:11,y:8},coins:[{x:2,y:0}],guns:[{x:5,y:5}],wallSetNumber:2,timerDuration:60}):document.querySelector(".map--fourth")?initializeGame({mapWidth:12,mapHeight:9,cellWidth:29,cellHeight:39,robotInitialPosition:{x:11,y:8},coins:[{x:2,y:0}],guns:[{x:5,y:5}],wallSetNumber:3,timerDuration:60}):document.querySelector(".map--fifth")?initializeGame({mapWidth:11,mapHeight:8,cellWidth:32,cellHeight:44,robotInitialPosition:{x:10,y:7},coins:[{x:2,y:0}],guns:[{x:5,y:5}],wallSetNumber:4,timerDuration:60}):document.querySelector(".map--sixth")?initializeGame({mapWidth:10,mapHeight:7,cellWidth:35,cellHeight:50.5,robotInitialPosition:{x:9,y:6},coins:[{x:2,y:0}],guns:[{x:5,y:5}],wallSetNumber:5,timerDuration:60}):document.querySelector(".map--seventh")&&initializeGame({mapWidth:11,mapHeight:8,cellWidth:32,cellHeight:44,robotInitialPosition:{x:10,y:7},coins:[{x:2,y:0}],guns:[{x:5,y:5}],wallSetNumber:6,timerDuration:60}),document.querySelector(".exchange__btn")){let t;document.querySelector(".exchange__btn").addEventListener("click",(function(){let e=document.querySelector(".area__timer"),n=60;function o(){let o=Math.floor(n/60),i=n%60;o=o<10?"0"+o:o,i=i<10?"0"+i:i,e.textContent=`${o}:${i}`,n--,n<0&&clearInterval(t)}t&&clearInterval(t),o(),t=setInterval(o,1e3)}))}$((function(){$(".game__play").on("click",(function(t){let e;$(".game").addClass("game--ready");let n=document.querySelector(".countdown"),o=5;function i(){let t=o%60;n.textContent=""+t,o--,o<0&&clearInterval(e)}e&&clearInterval(e),i(),e=setInterval(i,1e3)})),$(document).ready((function(){var t=$(".popup"),e={conversion:$(".popup--conversion"),task:$(".popup--task"),invite:$(".popup--invite"),wallet:$(".popup--wallet")};function n(t){t.addClass("popup--active").fadeIn(250,(function(){$(this).animate({opacity:1},250)})),$("body").addClass("body--popup")}function o(t){t.removeClass("popup--active").fadeOut(250,(function(){$(this).animate({opacity:1},250)})),$("body").removeClass("body--popup")}$(".exchange__btn").click((function(t){t.stopPropagation(),t.preventDefault(),n(e.conversion)})),$(".commission-item").click((function(t){t.stopPropagation(),t.preventDefault(),n(e.task)})),$(".friends__btn").click((function(t){t.stopPropagation(),t.preventDefault(),n(e.invite)})),$(".header-links__link--wallet").click((function(t){t.stopPropagation(),t.preventDefault(),n(e.wallet)})),$(".cls").click((function(e){e.stopPropagation(),e.preventDefault(),o(t)})),$(document).click((function(t){$.each(e,(function(e,n){if(n.hasClass("popup--active")){var i=n.find(".popup__inner");i.is(t.target)||0!==i.has(t.target).length||o(n)}}))}))})),document.querySelector(".body--preloader")&&$(".body--preloader").addClass("preloader--start"),setTimeout(()=>{document.querySelector(".body--preloader")&&($(".body--preloader").removeClass("body--preloader"),$(".preloader--start").removeClass("preloader--start"),$("body").addClass("preloader--end"))},3e3)}));